<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>图片前后对比</title>
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- 本地 twentytwenty 依赖 -->
  <script src="libs/twentytwenty/js/jquery.event.move.js"></script>
  <link rel="stylesheet" href="libs/twentytwenty/css/twentytwenty.css"/>
  <script src="libs/twentytwenty/js/jquery.twentytwenty.js"></script>
  <style>
    body { background:#f7f7f7; font-family:Arial,sans-serif; }
    .container { width:600px; margin:50px auto; }
    .twentytwenty-container { width:600px; height:400px; }
    .twentytwenty-container img {
      width:100%;
      height:100%;
      object-fit:fill;
      position:absolute;
      left:0; top:0;
    }
    h2 { text-align:center; }
  </style>
</head>
<body>
  <div class="container">
    <h2>图片前后对比</h2>
    <div class="twentytwenty-container">
      <img src="assets/girl1.jpg" alt="处理前">
      <img src="assets/girl1_增加一只鸟max.png" alt="处理后">
    </div>
  </div>
  <script>
    $(window).on('load', function() {
      var $img1 = $('.twentytwenty-container img').eq(0);
      var img = new Image();
      img.onload = function() {
        var w = img.naturalWidth;
        var h = img.naturalHeight;
        var maxWidth = 600; // 最大宽度
        var scale = w > maxWidth ? maxWidth / w : 1;
        var displayW = w * scale;
        var displayH = h * scale;
        $('.twentytwenty-container').css({ width: displayW + 'px', height: displayH + 'px' });
      };
      img.src = $img1.attr('src');
      $(".twentytwenty-container").twentytwenty({
        default_offset_pct: 0.5, // 滑块初始位置
        orientation: 'horizontal', // 水平分割
        before_label: '处理前',
        after_label: '处理后'
      });
    });
  </script>
</body>
</html>